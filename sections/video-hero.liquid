<!-- sections/video-hero.liquid -->
{% if section.settings.show_video_hero %}
<div class="video-background">
    <video id="test" playsinline autoplay muted loop>
        <source src="{{ section.settings.desktop_video }}" media="screen and (min-width:641px)">
        <source src="{{ section.settings.mobile_video }}" media="screen and (max-width:640px)">
    </video>
    {% if section.settings.merge_video == true %}
        <style>
            #video-title {
                width: 100%;
                text-align: center;
                font-size: 70px;
                color: white;
                text-shadow: 0px 0px 24px rgba(0, 0, 0, 0.3);
                margin: 0;
            }
            #video-subtitle {
                width: 100%;
                text-align: center;
                font-size: 20px;
                color: white;
                text-shadow: 0px 0px 24px rgba(0, 0, 0, 0.3);
                margin: 0;
                font-family: "franklin-gothic-condensed","HelveticaNeue","Helvetica Neue",Helvetica,Arial,sans-serif;
                font-weight: 800;
                letter-spacing: 3px;
            }
            #video-title-box {
                position: absolute;
                top: 48%;
                width: 100%;
                height: auto;
                z-index: 1;
            }
            @media only screen and (max-width: 640px) {
                #video-title {
                    font-size: 40px;
                }
                #video-subtitle {
                    font-size: 20px;
                }
                #video-title-box {
                    top: 33%;
                }
            }
        </style>
        {% if section.settings.video_header_title %}
            <div id="video-title-box">
                {% if settings.video_header_subtitle %}
                    <h1 id="video-subtitle">{{ section.settings.video_header_subtitle }}</h1>
                {% endif %}
                <h1 id="video-title">{{ section.settings.video_header_title }}</h1>
            </div>
        {% endif %}
        {% if section.settings.video_image %}
        <div class="text-center">
            <img class="video-image" src="{{ section.settings.video_image | img_url: '1000x' | format: 'png' }}" />
        </div>
        {% endif  %}
    {% endif %}
    </div>
{% endif %}

{% schema %}
  {
    "name": "Video Hero",
    "settings": [
      {
        "type": "checkbox",
        "id": "show_video_hero",
        "label": "Show Video Hero"
      },
      {
        "type": "checkbox",
        "id": "merge_video",
        "label": "Merge video with header"
      },
      {
        "type": "text",
        "id": "desktop_video",
        "label": "Desktop Video"
      },
      {
        "type": "text",
        "id": "mobile_video",
        "label": "Mobile Video"
      },
      {
        "type": "text",
        "id": "video_header_title",
        "label": "Main Title"
      },
      {
        "type": "text",
        "id": "video_header_subtitle",
        "label": "Subtitle"
      },
      {
        "type": "image_picker",
        "id": "video_image",
        "label": "Image for middle of video"
      }
    ]
  }
{% endschema %}
